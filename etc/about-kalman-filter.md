# 칼만 필터 Kalman Filter

#### 칼만 필터란?
- 잡음(noise)이 포함된 측정치를 바탕으로 선형 역학계의 상태를 추정하는 재귀 필터(recursive filter)
- 과거와 현재의 값을 기준으로 재귀적 연산을 통하여 최적값을 추적하는 것
- 최소자승법(= 최소제곱법, LSM, Least Square Method) 사용
- 여기서 filter라는 개념은 측정 데이터에 포함된 noise, 즉 불확실성을 필터링하는 것
- 필요한 데이터의 전수조사를 할 수 없기에 모수를 추정(estimation)하는 과정에서 활용하는 추정기법 중 하나
    - 추정이란, 입력된 자료가 불완전하거나 불확실하더라도 사용할 수 있는 계산된 결과의 근삿값
    - 즉 통계적 방법과 인과관계를 기반으로 예측하는 것
    - 정확한 위치와 속도 대신, 실제 속도와 위치가 어떤 '범위' 안에 속할 것이라는 '예측'

#### 칼만 필터를 적용할 수 있는 조건
1. 모션 모델과 측정 모델이 선형적(Linear)인 경우
2. 확률에 기반한 예측시스템이므로 정규분포(가우시안 분포)를 가지는 경우

- 즉, 칼만 필터는 물체의 측정값에 확률적인 오차가 포함되고, 물체의 특정 시점에서의 상태가 이전 시점의 상태와 선형적인 관계를 가지고 있는 경우 적용 가능

#### 칼만 필터의 특징
- 센서를 통해 추측한 움직임에 노이즈가 들어왔을 때 노이즈 제거에 효과적
- 이전 상태 이외의 기록을 유지할 필요가 없어, 지속적으로 변화하는 시스템에 이상적
- 연산 과정이 빨라 실시간 시스템 및 임베디드 시스템에도 적합
- 직전값을 확용하는 재귀필터 특성상, 신뢰도가 높은 결과를 얻기 위해서는 어느정도 데이터가 쌓일 때까지의 시간이 필요 / 초기에는 상대적으로 불안정

#### 칼만 필터의 활용
- 컴퓨터 비전, 로봇 공학, 레이더 등의 여러 분야
- 일상과 밀접한 분야로는 GPS, 날씨 예측, 주식 예측 등에 널리 사용

#### 칼만 필터의 동작 원리
1. 칼만 필터에서는 위치와 속도 두 변수를 랜덤 가우시안 분포로 가정
2. 현재 다음의 위치를 확률적으로 예측하고, 실제 측정값을 통해 예측값과 얼마나 비슷한지 확인 후 보정과 추정
3. 보정된 값으로 다시 다음 위치를 예측하고, 새 측정값으로 다시 추정을 반복

- 여기서 위치, 속도는 칼만 필터에서 활용할 수 있는 데이터 유형의 예시일 뿐, 실제로는 탱크의 유체 양, 자동차 엔진의 온도, 터치패드에서 사용자 손가락 위치 등 다양한 데이터군이 활용될 수 있다.


#### 선형 칼만 필터 Linear Kalman Filter
- 선형적이고 가우시안 분포를 따르는 데이터 모델에 적용하기 적합한 칼만 필터


#### 확장 칼만 필터 Extended Kalman Filter
- 비선형적이고 가우시안 분포를 따르지 않는 모델에 적용하기 위해 사용되는 칼만 필터
- 연산시 계산시간에서 이득


#### 무향 칼만 필터 Unscented Kalman Filter
- 연산시 정확도 면에서 이득


#### 파티클 Particle Filter
- 추정 확률 분포를 가우시안으로 특정짓지 않고, 미세한 입자(파티클)을 통해 계산하는 필터
- 우수한 성능을 보이고 다양한 환경에 적용이 가능하지만, 연산량이 많아 임베디드 환경에는 활용하기 어려운 단점이 존재
